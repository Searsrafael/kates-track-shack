<div class="players-page">
  <div class="container">
    <!-- Page Header -->
    <header class="page-header">
      <h1>📻 Players For Sale</h1>
      <div class="sale-banner">
        <h2>🔥 SALE - ALL PLAYERS 1/2 OFF! 🔥</h2>
      </div>
      <p>We're trying to give you the whole 8-track experience here at Kate's Track Shack! So if you're looking for a player, we're here to help you out!</p>
    </header>

    <!-- Important Notice -->
    <div class="notice-section">
      <div class="alert alert-warning">
        <h3>📍 Important Notice</h3>
        <p><strong>As of 9-11-24, we will no longer ship players purchased from us outside the US.</strong> You can still send them in for repair from outside the US, but we won't be shipping purchased players outside the US. Thanks for your understanding!</p>
      </div>
    </div>

    <!-- Player Categories -->
    <div class="category-tabs">
      <button class="tab-button" 
              [class.active]="activeCategory === 'portable'" 
              (click)="setActiveCategory('portable')">
        Portable/Components
      </button>
      <button class="tab-button" 
              [class.active]="activeCategory === 'car-indash'" 
              (click)="setActiveCategory('car-indash')">
        In-Dash Car Players
      </button>
      <button class="tab-button" 
              [class.active]="activeCategory === 'car-underdash'" 
              (click)="setActiveCategory('car-underdash')">
        Under-Dash Car Players
      </button>
    </div>

    <!-- Player Grid -->
    <div class="players-grid">
      <div class="player-card" *ngFor="let player of getFilteredPlayers()">
        <div class="player-images">
          <div class="main-image">
            <img [src]="player.images[0]" [alt]="player.name" (error)="onImageError($event)">
          </div>
          <div class="thumbnail-gallery" *ngIf="player.images.length > 1">
            <img *ngFor="let image of player.images.slice(1, 4)" 
                 [src]="image" 
                 [alt]="player.name"
                 class="thumbnail"
                 (error)="onImageError($event)">
            <span *ngIf="player.images.length > 4" class="more-images">
              +{{player.images.length - 4}} more
            </span>
          </div>
        </div>
        
        <div class="player-info">
          <h3>{{player.name}}</h3>
          <p class="player-type">{{player.type}}</p>
          <p class="player-description">{{player.description}}</p>
          
          <div class="features" *ngIf="player.features.length > 0">
            <h4>Features:</h4>
            <ul>
              <li *ngFor="let feature of player.features">{{feature}}</li>
            </ul>
          </div>
          
          <div class="condition">
            <strong>Condition:</strong> {{player.condition}}
          </div>
          
          <div class="price-section">
            <div class="price">
              <span class="current-price">${{player.salePrice}}</span>
              <span class="original-price" *ngIf="player.originalPrice">${{player.originalPrice}}</span>
              <span class="discount">50% OFF!</span>
            </div>
            <p class="shipping-note">+ S/H/Ins</p>
          </div>
          
          <div class="action-buttons">
            <button class="btn btn-primary" (click)="contactAboutPlayer(player)">
              📧 Email About This Player
            </button>
            <button class="btn btn-outline" (click)="viewPlayerDetails(player)">
              👁️ View Details
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Important Information Section -->
    <div class="info-sections">
      <div class="info-card">
        <h3>🛡️ Warranty Information</h3>
        <ul>
          <li>30-day warranty on all players*</li>
          <li>All players have been refurbished unless otherwise stated</li>
          <li>We send a short video of the player working before shipping</li>
          <li>Warranty void if player is opened after we ship it</li>
          <li>No refunds - we'll work with you to resolve any issues</li>
        </ul>
      </div>

      <div class="info-card">
        <h3>📦 Shipping & Insurance</h3>
        <ul>
          <li>All players include at least $100 insurance</li>
          <li>Can be shipped Ground Advantage or Priority Mail</li>
          <li>Smaller players may fit in flat rate boxes</li>
          <li>UPS Ground available for additional fee</li>
          <li>Keep packaging in case of damage claims</li>
        </ul>
      </div>

      <div class="info-card">
        <h3>⚡ Safety Notice</h3>
        <div class="safety-warning">
          <h4>Play Safe!</h4>
          <p>Your 8-track player is an older piece of electronic equipment. We strongly recommend plugging into a switchable power strip and turning the power strip OFF when not in use. Many of these machines were designed to use power even when turned off.</p>
        </div>
      </div>

      <div class="info-card">
        <h3>🎵 Tape Compatibility</h3>
        <ul>
          <li>Make sure your tapes are tuned-up first (new metallic splice/pad)</li>
          <li>We are not responsible for tape jams/failures</li>
          <li>We sell all the repair supplies you need</li>
          <li>Professional tape repair service available</li>
        </ul>
      </div>
    </div>

    <!-- Additional Products -->
    <div class="additional-products">
      <h2>🔌 Additional Items</h2>
      <div class="product-grid">
        <div class="product-card">
          <img src="/assets/images/power-cord.jpg" alt="AC Power Cord" (error)="onImageError($event)">
          <h3>AC Power Cords</h3>
          <p>AC plugs for portable players. Should work on most portable players.</p>
          <div class="price">$15.99 and up + S/H</div>
        </div>
      </div>
    </div>

    <!-- Contact Section -->
    <div class="contact-section">
      <h2>Questions About Players?</h2>
      <p>If you don't see what you're looking for, let us know - we may have what you're looking for!</p>
      <a href="mailto:sales&#64;katestrackshack.com" class="btn btn-primary">
        📧 Email Us About Players
      </a>
    </div>
  </div>
</div>
